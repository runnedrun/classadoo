extends layout

block content
  .container-fluid        
    .row
      h2.col-md-4.col-md-offset-4.text-center #{method} Task
    .row
      .col-md-4.col-md-offset-4.text-center
        form(action="/tasks?_method=#{(method == 'Update' && 'PUT') || (method == 'New' && 'POST')}" method="POST")
          .form-group
            label(for="name") Name
            input.form-control#name(name="task[name]" type="text" maxLength="60" value="#{name || ''}")
          .form-group
            label(for="description") Description
            textarea.form-control#description(name="task[description]" type="text") #{description || ''}
          input(type="hidden", name="id", value="#{id}")          
          .col-md-4.col-md-offset-4.text-center
          .input-group
            .input-group-btn
              button.btn.btn-default.dropdown-toggle(type='button', data-toggle='dropdown', aria-haspopup='true', aria-expanded='false')
                | Prerequisite 
                span.caret
              ul.dropdown-menu
                each prereq in prereqs
                  li
                    a(href='#' data-id=prereq.id) prereq.name          
          input.form-control.dropdown-selection(type='text')    
          button.btn.btn-default(type="submit") Submit    